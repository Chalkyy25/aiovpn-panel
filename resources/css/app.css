/* Tailwind base */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Alpine helper */
[x-cloak] { display: none !important; }

/* =========================
   Theme tokens (neutral, standard)
   Light default, .dark overrides
   ========================= */
:root {
  /* Surfaces */
  --aio-bg:      #f3f4f6;                 /* page background */
  --aio-card:    #ffffff;                 /* card surface */
  --aio-ink:     #111827;                 /* primary text */
  --aio-sub:     #6b7280;                 /* secondary text */
  --aio-border:  rgba(17,24,39,.12);      /* border */
  --aio-soft:    rgba(17,24,39,.06);      /* soft fill */
  --aio-hover:   rgba(17,24,39,.03);      /* hover fill */

  /* Accent (keep one, boring + usable) */
  --aio-accent:       #2563eb;            /* blue-600 */
  --aio-accent-weak:  rgba(37,99,235,.18);

  /* Status colors (used sparingly) */
  --aio-success: #16a34a;
  --aio-warning: #d97706;
  --aio-danger:  #dc2626;
}

.dark {
  --aio-bg:      #0b1220;
  --aio-card:    #111827;
  --aio-ink:     #e5e7eb;
  --aio-sub:     #9ca3af;
  --aio-border:  rgba(255,255,255,.12);
  --aio-soft:    rgba(255,255,255,.06);
  --aio-hover:   rgba(255,255,255,.04);

  --aio-accent:      #60a5fa;             /* blue-400 */
  --aio-accent-weak: rgba(96,165,250,.22);

  --aio-success: #22c55e;
  --aio-warning: #f59e0b;
  --aio-danger:  #ef4444;
}

/* =========================
   Base
   ========================= */
@layer base {
  body {
    background-color: var(--aio-bg);
    color: var(--aio-ink);
  }
}

/* =========================
   Components (same class names)
   ========================= */
@layer components {

  /* ===== Cards / header ===== */
  .aio-card,
  .aio-header {
    @apply rounded-xl border;
    background-color: var(--aio-card);
    border-color: var(--aio-border);
  }

  .aio-card:hover { background-color: color-mix(in srgb, var(--aio-card) 96%, var(--aio-hover)); }

  .aio-divider { border-color: var(--aio-border); }

  /* ===== Sections ===== */
  .aio-section {
    @apply rounded-2xl border p-5 md:p-6;
    background-color: var(--aio-card);
    border-color: var(--aio-border);
  }
  .aio-section + .aio-section { @apply mt-6; }

  .aio-section-title {
    @apply flex items-center gap-2 text-lg font-semibold mb-1;
    color: var(--aio-ink);
  }
  .aio-section-sub { @apply text-sm mb-4; color: var(--aio-sub); }

  /* ===== Forms ===== */
  .form-grid { @apply grid gap-4; grid-template-columns: 1fr; }
  @media (min-width: 768px) { .form-grid { grid-template-columns: 1fr 1fr; } }

  .form-group { @apply flex flex-col gap-1.5; }
  .form-label { @apply text-sm font-medium; color: var(--aio-ink); }
  .form-help  { @apply text-xs; color: var(--aio-sub); }

  .form-input, .form-select, .form-textarea {
    @apply w-full rounded-lg border px-3 py-2.5 outline-none transition;
    background: var(--aio-card);
    border-color: var(--aio-border);
    color: var(--aio-ink);
  }

  .form-textarea { @apply min-h-[110px] resize-y; }

  .form-input::placeholder, .form-textarea::placeholder {
    color: color-mix(in srgb, var(--aio-sub) 70%, transparent);
  }

  .form-input:focus, .form-select:focus, .form-textarea:focus {
    border-color: var(--aio-accent);
    box-shadow: 0 0 0 3px var(--aio-accent-weak);
  }

  /* Consistent selects across browsers */
  .form-select {
    appearance: none;
    background-image:
      linear-gradient(45deg, transparent 50%, currentColor 50%),
      linear-gradient(135deg, currentColor 50%, transparent 50%);
    background-position: calc(100% - 22px) calc(1.05em), calc(100% - 16px) calc(1.05em);
    background-size: 6px 6px, 6px 6px;
    background-repeat: no-repeat;
    padding-right: 2.5rem;
  }

  .form-check { @apply inline-flex items-center gap-2 text-sm; color: var(--aio-ink); }
  .form-check input[type="checkbox"] {
    @apply h-4 w-4 rounded border;
    background: var(--aio-card);
    border-color: var(--aio-border);
    accent-color: var(--aio-accent);
  }

  /* ===== Buttons ===== */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2.5 font-semibold transition;
    color: #ffffff;
    background: var(--aio-accent);
  }
  .btn:hover { filter: brightness(1.05); }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2.5 font-semibold transition border;
    color: var(--aio-ink);
    background: var(--aio-soft);
    border-color: var(--aio-border);
  }
  .btn-secondary:hover { background: var(--aio-hover); }

  .btn-danger { @apply inline-flex items-center justify-center rounded-lg px-4 py-2.5 font-semibold; color:#fff; background: var(--aio-danger); }

  .btn:disabled,
  .btn[disabled],
  .btn[aria-disabled="true"],
  .btn-secondary:disabled,
  .btn-secondary[disabled] {
    opacity: .6; cursor: not-allowed; filter: none;
  }

  /* ===== Pills ===== */
  .aio-pill {
    display:inline-flex; align-items:center; gap:.375rem;
    padding:.25rem .5rem; border-radius:.5rem;
    background: var(--aio-soft);
    border: 1px solid var(--aio-border);
    color: var(--aio-ink);
    font-size:.8125rem;
    line-height:1rem;
  }

  /* Status pills (optional) */
  .pill-success { background: color-mix(in srgb, var(--aio-success) 15%, transparent); border-color: color-mix(in srgb, var(--aio-success) 35%, transparent); color: var(--aio-success); }
  .pill-warning { background: color-mix(in srgb, var(--aio-warning) 15%, transparent); border-color: color-mix(in srgb, var(--aio-warning) 35%, transparent); color: var(--aio-warning); }
  .pill-danger  { background: color-mix(in srgb, var(--aio-danger) 15%, transparent);  border-color: color-mix(in srgb, var(--aio-danger) 35%, transparent);  color: var(--aio-danger); }

  /* ===== Sidebar / nav ===== */
  .nav-pill {
    background: transparent;
    border: 1px solid transparent;
  }

  .sidebar .nav-pill.active,
  .drawer .nav-pill.active {
    font-weight: 600;
    background: var(--aio-accent);
    border-color: transparent;
    color: #fff;
  }

  /* ===== Dashboard cards ===== */
  .pill-card {
    @apply rounded-xl border;
    background-color: var(--aio-card);
    border-color: var(--aio-border);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background-color .18s ease;
  }
  .pill-card:hover {
    transform: translateY(-2px);
    background-color: color-mix(in srgb, var(--aio-card) 96%, var(--aio-hover));
    box-shadow: 0 10px 30px rgba(0,0,0,.08);
  }

  /* ===== Sidebar links (simple, neutral) ===== */
  .side-link {
    @apply flex items-center gap-3 px-3 py-2 rounded-md transition;
    color: color-mix(in srgb, var(--aio-ink) 70%, transparent);
  }
  .side-link:hover {
    background-color: var(--aio-hover);
    color: var(--aio-ink);
  }
  .side-link-active {
    color: var(--aio-ink);
    background: var(--aio-soft);
    border: 1px solid var(--aio-border);
  }

  /* ===== Tables ===== */
  .table-dark { @apply min-w-full text-sm text-left; }
  .table-dark thead tr { border-bottom: 1px solid var(--aio-border); }
  .table-dark tbody tr { border-bottom: 1px solid var(--aio-border); }
  .table-dark th, .table-dark td { @apply px-4 py-2; }

  .muted { color: var(--aio-sub); }
}

/* ===== Utilities ===== */
.brand-logo { height: 32px; max-height: 32px; width: auto; object-fit: contain; }
.aio-section, .pill-card { pointer-events: auto; }
.aio-overlay { position: relative; }
.aio-overlay > * { pointer-events: auto; }